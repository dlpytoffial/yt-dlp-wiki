### Notes for external downloaders

### Common for all external downloaders

* External downloaders are supposed to be neutral and exhibit predictable behaviors. This means even if a downloader supports configuration through either config file or environment variables, yt-dlp will disable them by default.
* External downloaders are supposed to have minimalistic and straightforward behaviors. Certain options such as file pre-allocation are disabled by default.
* All the options mentiond above can usually be overrided with the `--downloader-args` argument, which takes precedence over the options generated by yt-dlp. Refer to sections below or downloader manual for instruction.
* Note that the yt-dlp arguments `--concurrent_fragment_downloads` does not affect any of the external downloaders in any way.

### aria2c

* yt-dlp generates the following notable behavior by default:
    * continue `--continue`
    * disable periodic summary `--summary-interval=0`
    * disable file allocation `--file-allocation=none`
    * 16 concurrent downloads and segments `--max-connection-per-server=16`, `--max-concurrent-downloads=16`, `--split=16`
    * observe yt-dlp's `--limit-rate` by setting `--max-overall-download-limit`
    * observe yt-dlp's `--source-address` by setting `--interface`
    * observe yt-dlp's `--proxy` by setting `--all-proxy`
    * observe yt-dlp's `--mtime` by setting `--remote-time`
    * observe yt-dlp's `--no-progress` by setting `--show-console-readout`
* Use the following command line to override aria2c downloader arguments:

    `yt-dlp --downloader-args aria2c:"<aria2c_options>" <other_yt_dlp_arguments>`

* Within `<aria2c_options>`, you can do these as examples:
    * `--no-conf=false`: re-enable [aria2c configuration file](https://aria2.github.io/manual/en/html/aria2c.html#aria2-conf)
    * `--file-allocation=prealloc`: restore the aria2c default pre-allocation method
    * `--max-concurrent-downloads=4 --max-connection-per-server=4 --split=4`: limit concurrent downloads and segments to 4 instead of 16, which helps reduce server pressure
